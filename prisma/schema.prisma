generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id_user   Int        @id @default(autoincrement())
  username  String     @unique
  firstName String?    @db.VarChar(16)
  email     String     @unique @db.VarChar(64)
  password  String     @db.VarChar(128)
  role      role       @default(USER)
  lastName  String?    @db.VarChar(16)
  blogPost  blogPost[]
}

model tokens {
  id_token Int    @id @default(autoincrement())
  id_user  Int
  token    String
}

model blogPost {
  id_blogpost String     @id @unique @default(uuid())
  date        DateTime   @default(now())
  lastUpdated DateTime   @updatedAt
  title       String
  content     String
  id_author   Int
  user        user       @relation(fields: [id_author], references: [id_user], onDelete: Cascade)
  category    category[]
}

model category {
  id       Int        @id @default(autoincrement())
  name     String
  blogPost blogPost[]
}

enum role {
  USER
  ADMIN
}
